generator client {
  provider = "prisma-client-js"
  output   = "../../generated/product-client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL_PRODUCT")
}

model Product {
  id            Int      @id @default(autoincrement())
  productCode   String   @unique
  name          String
  description   String
  image         String?
  productWeight String
  price         Float
  companyId     Int?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model Ingredient {
  id          Int      @id @default(autoincrement())
  code        String   @unique
  name        String
  description String?
  unit        String
  netWeight   String?
  origin      String?
  usedBy      DateTime?
  batchCode   String?
  manufacturer String?
  vendor      String?
  packSize    String?
  netContent  String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ProductIngredient {
  id           Int @id @default(autoincrement())
  productId    Int
  ingredientId Int
  quantity     Float
}

model Sauce {
  id          Int      @id @default(autoincrement())
  name        String
  productId   Int
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model SauceIngredient {
  id           Int @id @default(autoincrement())
  sauceId      Int
  ingredientId Int
  quantity     Float
}

model Tray {
  id         Int      @id @default(autoincrement())
  trayName   String
  dimensions String?
  weight     String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Garnish {
  id        Int      @id @default(autoincrement())
  name      String
  weight    String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Unit {
  id        Int      @id @default(autoincrement())
  name      String
  noOfUnits Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model NutritionalInfo {
  id        Int   @id @default(autoincrement())
  productId Int   @unique
  calories  Float
  fat       Float
  protein   Float
  sugar     Float
  fibre     Float
  salt      Float
}
