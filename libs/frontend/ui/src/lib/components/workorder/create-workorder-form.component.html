<div
  class="form-container"
  *ngIf="!loadingVendors() && !loadingLocations(); else loadingTemplate"
>
  <form
    [formGroup]="form()"
    (ngSubmit)="onSubmit()"
    class="workorder-form space-y-4"
  >
    <!-- Vendor or Client Dropdown -->
    <div class="form-field">
      <lib-select-field
        label="Vendor or Client"
        formControlName="vendorOrClient"
        [options]="vendorsAndClients()"
        [required]="true"
      ></lib-select-field>
    </div>

    <!-- Client Location Dropdown -->
    <div class="form-field">
      <lib-select-field
        label="Client Location"
        formControlName="clientLocation"
        [options]="greencoreLocations()"
        [required]="true"
      ></lib-select-field>
    </div>

    <!-- Quantity -->
    <div class="form-field">
      <lib-input-field
        label="Quantity"
        placeholder="Enter quantity"
        formControlName="quantity"
        type="number"
        [required]="true"
      ></lib-input-field>
    </div>

    <!-- Product Weight -->
    <div class="form-field">
      <lib-input-field
        label="Product Weight"
        placeholder="Enter product weight"
        formControlName="productWeight"
        type="text"
        [required]="true"
      ></lib-input-field>
    </div>

    <!-- Delivery Date -->
    <div class="form-field">
      <lib-input-field
        label="Delivery Date"
        placeholder="Select delivery date"
        formControlName="deliveryDate"
        type="date"
        [required]="true"
      ></lib-input-field>
    </div>

    <!-- Description (optional) -->
    <div class="form-field">
      <lib-input-field
        label="Description"
        placeholder="Enter description"
        formControlName="description"
        type="text"
      ></lib-input-field>
    </div>

    <!-- Submit Button -->
    <div class="form-actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="form().invalid"
        class="w-full py-2 rounded bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50"
      >
        Save WorkOrder
      </button>
    </div>
  </form>
</div>

<ng-template #loadingTemplate>
  <div class="loader-container">
    <lib-ui-material-loader></lib-ui-material-loader>
  </div>
</ng-template>
